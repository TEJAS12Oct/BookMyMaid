{"ast":null,"code":"import _defineProperty from\"F:/IET/IET PROJECT/PROJECT WORK/CDacProject/react pages/BookMyMaid/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"F:/IET/IET PROJECT/PROJECT WORK/CDacProject/react pages/BookMyMaid/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"F:/IET/IET PROJECT/PROJECT WORK/CDacProject/react pages/BookMyMaid/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,Component}from'react';import{useNavigate}from\"react-router-dom\";import mystore from'./store';import C from\"./Images/C.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),msg=_useState2[0],setMsg=_useState2[1];var _useState3=useState({email_id:\"\",password:\"\"}),_useState4=_slicedToArray(_useState3,2),customer=_useState4[0],setCustomer=_useState4[1];var handleInput=function handleInput(ev){setCustomer(function(customer){return _objectSpread(_objectSpread({},customer),{},_defineProperty({},ev.target.name,ev.target.value));});};var submitForm=function submitForm(ev){console.log(customer.email_id);console.log(customer.password);ev.preventDefault();var reqOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({userEmailId:customer.email_id,userPassword:customer.password})};if(customer.email_id===\"admin@gmail.com\"&&customer.password===\"admin@123\"){mystore.dispatch({type:'LOGGEDIN'});alert(\"admin logged in successfully\");navigate('/AdminHome');}else{fetch(\"http://localhost:8080/user/CheckLogin\",reqOptions).then(function(resp){return resp.text();}).then(function(data){setMsg(data);if(data!=''){var json=JSON.parse(data);console.log(json);mystore.dispatch({type:'LOGGEDIN'});if(json.userEmailId===customer.email_id&&json.userPassword===customer.password){alert(\"success\");//this.setState({customer: json});\nlocalStorage.setItem(\"loggedincustomer\",data);localStorage.setItem(\"loggedin\",true);navigate('/CustomerHome');}else{// <redirect to=\"/login\"></redirect>\nalert(\"invalid credintials\");//navigate('#');\n//  window.location=\"/login\";\n}}else{alert(\"Enter valid details\");}});}};return/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",style:{backgroundImage:\"url(\".concat(C,\")\"),height:'595px',backgroundRepeat:\"no-repeat\",backgroundSize:'cover'},children:[/*#__PURE__*/_jsx(\"style\",{children:'body{background-color:#DFDFDE}'}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign In\"}),\" \",/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{display:'flex',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"User Email\"}),\" \\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{width:\"400px\"},name:\"email_id\",className:\"form-control\",placeholder:\"Enter Email/User ID\",onChange:handleInput,value:customer.email_id})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{display:'flex',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),\" \\xA0  \\xA0\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",style:{width:\"400px\"},name:\"password\",className:\"form-control\",placeholder:\"Enter password\",onChange:handleInput,value:customer.password})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block\",onClick:submitForm,children:\"Login\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"h4\",{style:{color:'#DFB163'},children:\"New User Register Here!!\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(\"a\",{href:\"/registerCustomer\",children:\"Register as Customer  \"}),\" \"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"/registermaid\",children:\"Register as Maid   \"}),\" \"]}),\"  \\xA0  \\xA0\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"i\",{children:msg})})]});}export default Login;","map":{"version":3,"sources":["F:/IET/IET PROJECT/PROJECT WORK/CDacProject/react pages/BookMyMaid/src/components/login.js"],"names":["React","useState","Component","useNavigate","mystore","C","Login","navigate","msg","setMsg","email_id","password","customer","setCustomer","handleInput","ev","target","name","value","submitForm","console","log","preventDefault","reqOptions","method","headers","body","JSON","stringify","userEmailId","userPassword","dispatch","type","alert","fetch","then","resp","text","data","json","parse","localStorage","setItem","backgroundImage","height","backgroundRepeat","backgroundSize","display","justifyContent","alignItems","width","color"],"mappings":"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","sourcesContent":["import React, { useState, Component } from 'react'\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport mystore from './store';\r\nimport C from \"./Images/C.jpg\";\r\n\r\nfunction Login() {\r\n\r\n    let navigate = useNavigate();\r\n\r\n\r\n    const [msg, setMsg] = useState(\"\");\r\n    const [customer, setCustomer] = useState({\r\n        email_id: \"\",\r\n        password: \"\",\r\n\r\n    });\r\n\r\n\r\n    const handleInput = (ev) => {\r\n\r\n        setCustomer((customer) => ({\r\n            ...customer,\r\n            [ev.target.name]: ev.target.value\r\n        }));\r\n    }\r\n\r\n\r\n    const submitForm = (ev) => {\r\n\r\n        console.log(customer.email_id);\r\n        console.log(customer.password);\r\n\r\n        ev.preventDefault();\r\n        const reqOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n\r\n            body: JSON.stringify({\r\n                userEmailId: customer.email_id,\r\n                userPassword: customer.password,\r\n            })\r\n\r\n        }\r\n\r\n        if (customer.email_id === \"admin@gmail.com\" && customer.password === \"admin@123\") {\r\n            mystore.dispatch({ type: 'LOGGEDIN' });\r\n            alert(\"admin logged in successfully\");\r\n            navigate('/AdminHome');\r\n        }\r\n        else {\r\n            fetch(\"http://localhost:8080/user/CheckLogin\", reqOptions)\r\n                .then(resp => resp.text())\r\n                .then((data) => {\r\n                    setMsg(data);\r\n                    if (data != '') {\r\n                        const json = JSON.parse(data);\r\n                        console.log(json);\r\n\r\n                        mystore.dispatch({ type: 'LOGGEDIN' });\r\n\r\n                        if (json.userEmailId === customer.email_id && json.userPassword === customer.password) {\r\n                            alert(\"success\");\r\n\r\n                            //this.setState({customer: json});\r\n                            localStorage.setItem(\"loggedincustomer\", (data));\r\n\r\n                            localStorage.setItem(\"loggedin\", true);\r\n                            navigate('/CustomerHome');\r\n                        }\r\n                        else {\r\n                            // <redirect to=\"/login\"></redirect>\r\n                            alert(\"invalid credintials\");\r\n                            //navigate('#');\r\n                            //  window.location=\"/login\";\r\n                        }\r\n                    }\r\n                    else { alert(\"Enter valid details\"); }\r\n                })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <center>\r\n            <div className=\"container-fluid\" style={{ backgroundImage: `url(${C})`, height: '595px', backgroundRepeat: \"no-repeat\", backgroundSize: 'cover' }}>\r\n                {/* <style>{{backgroundImage:'url(${F})'}}</style>*/}\r\n                {<style>{'body{background-color:#DFDFDE}'}</style>}\r\n                <form>\r\n                    <h3>Sign In</h3> <hr />\r\n                    <div className=\"form-group\" style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}\r\n                    >\r\n                        <label>User Email</label> &nbsp;&nbsp;&nbsp;\r\n                        <input type=\"text\" style={{ width: \"400px\" }} name=\"email_id\" className=\"form-control\" placeholder=\"Enter Email/User ID\" onChange={handleInput} value={customer.email_id} />\r\n                    </div><br />\r\n                    <div className=\"form-group\" style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                        <label>Password</label> &nbsp;  &nbsp;\r\n                        <input type=\"password\" style={{ width: \"400px\" }} name=\"password\" className=\"form-control\" placeholder=\"Enter password\" onChange={handleInput} value={customer.password} />\r\n                    </div><br />\r\n                    <div className=\"form-group\">\r\n                        <button type=\"submit\" className=\"btn btn-primary btn-block\" onClick={submitForm}>Login</button>\r\n                    </div>\r\n                    <br /><br />\r\n                </form>\r\n                <h4 style={{ color: '#DFB163' }}>New User Register Here!!</h4> <br />\r\n                <h5> < a href=\"/registerCustomer\">Register as Customer  </a> </h5>\r\n                <h5>< a href=\"/registermaid\">Register as Maid   </a> </h5>  &nbsp;  &nbsp;\r\n\r\n            </div>\r\n\r\n            <br />\r\n            <h3 style={{ color: \"red\" }}><i>{msg}</i></h3>\r\n\r\n        </center>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n\r\n"]},"metadata":{},"sourceType":"module"}